{% load static %}

<div class="input-group">
    <div class="input-group-prepend">
        <div class="input-group-text">
            <input name="checkbox_{{ name }}" type="text" value="true" hidden>
            <input id="checkbox_{{ id }}" type="checkbox" checked><span style="vertical-align: middle;margin-left: 5px;">{{ label_checkbox }}</span>
        </div>
    </div>
    <input id="input_{{ id }}" name="{{ name }}" type="number" title="Attribuez ici le prochain numéro de facture. Les factures suivantes seront incrémentées automatiquement." value="{{ value }}" class="form-control" readonly>
</div>

<script>
$(document).ready(function() {

    // On radio change
    $('#checkbox_{{ id }}').on('change', function(){
        if ($("#checkbox_{{ id }}").prop("checked")) {
            $("#input_{{ id }}").prop('readonly', true);
            $('input[name=checkbox_{{ name }}]').val("true");
        } else {
            $("#input_{{ id }}").prop('readonly', false);
            $('input[name=checkbox_{{ name }}]').val("false");
        };
    });

});
</script>